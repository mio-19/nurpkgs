--- a/lib/main.dart	2026-01-20 20:00:16.938227471 +1100
+++ b/lib/main.dart	2026-01-20 20:01:10.138404315 +1100
@@ -41,7 +41,7 @@
 
   SystemChrome.setEnabledSystemUIMode(SystemUiMode.edgeToEdge);
 
-  if (!kIsWeb) {
+  if (!kIsWeb && (Platform.isAndroid || Platform.isIOS)) {
     initializeWidgetServices();
   }
 
@@ -238,24 +238,22 @@
     String latLon = context.read<SettingsProvider>().getLatLon;
     String location = context.read<SettingsProvider>().getLocation;
 
-    if (!kIsWeb) {
-      if (Platform.isAndroid) {
-        Uri? appLaunchUri = await HomeWidget.initiallyLaunchedFromHomeWidget();
-
-        if (appLaunchUri != null) {
-          if (appLaunchUri.host == "opened" && appLaunchUri.queryParameters.containsKey("location")
-              && appLaunchUri.queryParameters.containsKey("latlon")) {
-
-            if (appLaunchUri.queryParameters["location"] != null && appLaunchUri.queryParameters["latlon"] != null) {
-
-              if (appLaunchUri.queryParameters["location"] == "CurrentLocation") {
-                location = PreferenceUtils.getString('LastKnownPositionName', 'unknown');
-                latLon = PreferenceUtils.getString('LastKnownPositionCord', 'unknown');
-              }
-              else {
-                location = appLaunchUri.queryParameters["location"]!;
-                latLon = appLaunchUri.queryParameters["latlon"]!;
-              }
+    if (!kIsWeb && Platform.isAndroid) {
+      Uri? appLaunchUri = await HomeWidget.initiallyLaunchedFromHomeWidget();
+
+      if (appLaunchUri != null) {
+        if (appLaunchUri.host == "opened" && appLaunchUri.queryParameters.containsKey("location")
+            && appLaunchUri.queryParameters.containsKey("latlon")) {
+
+          if (appLaunchUri.queryParameters["location"] != null && appLaunchUri.queryParameters["latlon"] != null) {
+
+            if (appLaunchUri.queryParameters["location"] == "CurrentLocation") {
+              location = PreferenceUtils.getString('LastKnownPositionName', 'unknown');
+              latLon = PreferenceUtils.getString('LastKnownPositionCord', 'unknown');
+            }
+            else {
+              location = appLaunchUri.queryParameters["location"]!;
+              latLon = appLaunchUri.queryParameters["latlon"]!;
             }
           }
         }
